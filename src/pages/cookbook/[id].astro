---
import Layout from "@/layouts/Layout.astro";
import CookbookEntryView from "@/components/cookbook/CookbookEntryView";

// Defensive redirect if middleware didn't handle auth
if (!Astro.locals.user || !Astro.locals.profile) {
  return Astro.redirect("/login");
}

const entryId = Astro.params.id ?? "";
const isAuthenticated = true;
---

<Layout title="Cookbook entry â€” Cook Mastery">
  <main class="container mx-auto w-full max-w-3xl px-4 py-6">
    <CookbookEntryView client:load entryId={entryId} isAuthenticated={isAuthenticated} />
  </main>
</Layout>
